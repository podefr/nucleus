{"google":"UA-38206569-1","tagline":"It binds your JS logic with the DOM by adding configuration data in the markup","note":"Don't delete this file! It's used internally to help with page regeneration.","body":"Nucleus binds your JS logic to the DOM by adding configuration to the markup\r\n-------------------------------------------------------------------------------\r\n\r\nEver wanted to bind your JS logic to the DOM by doing something like this in your HTML?\r\n\r\n```html\r\n\t<p data-bind=\"value: name\"></p>\r\n\t<button data-listen=\"click: doSomething\"></button>\r\n```\r\n\r\nNucleus allows you to do just that. It will create the link between your HTML and your JavaScript logic.\r\n\r\nLet's start with a simple example. We would like to set the value of \"name\" in the paragraph.\r\n\r\n### HTML\r\n\r\n```html\r\n\t<p data-bind=\"value: name\"></p>\r\n```\r\n\r\n### JavaScript\r\n\r\n```js\r\n\t// The object to display in the DOM\r\n\tvar someone = {\r\n\t\t// This is the value that we want to display in the paragraph\r\n\t\tname: \"John\",\r\n\t\ttype: \"Doe\"\r\n\t};\r\n\r\n\t// We start by initializing Nucleus\r\n\tvar nucleus = new Nucleus();\r\n\r\n\t// Then we add a nucleus plugin called 'bind'\r\n\tnucleus.add(\"bind\", {\r\n\r\n\t\t// Which has a method called value\r\n\t\tvalue: function (node, param) {\r\n\t\t\t// That will set the innerText of the dom to \"John\"\r\n\t\t\tnode.innerText = someone[param];\r\n\t\t}\r\n\t});\r\n\r\n\t// Then we tell it where to find the DOM elements to bind\r\n\tnucleus.apply(document.querySelector(\"p\"));\r\n```\r\n\r\nNucleus will actually create this relationship:\r\n\r\n![Schema](https://raw.github.com/podefr/nucleus/master/schema.png)\r\n\r\nWhere data-bind is configured while adding the plugin to nucleus. We could have used any other allowed name, such as 'listen', 'style', 'css', 'text' or even 'another-plugin_for-nucleus'.\r\n\r\nNucleus will then execute the method 'value' in the plugin 'bind', passing it two things:\r\n - {HTMLElement} the node to which the data-attribute is applied\r\n - {String} the parameters specified in the data-attribute, after the name of the method (name in our case)\r\n\r\nWe've just bound some JS logic to a dom element. This seems overkill for such simple task, but it'll make more sense when we'll add more plugins, and especially when they are plugins that we can just reuse.\r\n\r\n Let's add more plugins, one for setting data into the DOM, one for listening to DOM events.\r\n\r\n### HTML\r\n\r\n```html\r\n\t<section>\r\n\t\t<p data-bind=\"value: name\"></p>\r\n\t\t<button data-listen=\"click: doSomething\"></button>\r\n\t</section>\r\n```\r\n\r\nIn this case, we have two plugins, one called 'bind', and the other one called 'listen'. We can configure Nucleus to accept more than one plugin by calling the 'addAll' method instead of just 'add':\r\n\r\n```js\r\n\t// This is some UI with a doSomething method:\r\n\tvar ui = {\r\n\t\tdoSomething: function () {\r\n\t\t\t// do something\r\n\t\t}\r\n\t}\r\n\r\n\tnucleus.addAll({\r\n\t\t// This is the plugin that we have seen before\r\n\t\tbind: {\r\n\t\t\tvalue: function (node, param) {\r\n\t\t\t\tnode.innerText = someone[param];\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// This is the new plugin called listen\r\n\t\tlisten: {\r\n\t\t\tclick: function (node, method) {\r\n\t\t\t\tnode.addEventListener(\"click\", function (event) {\r\n\t\t\t\t\tui[method](event);\r\n\t\t\t\t}, true);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n```\r\n\r\nWe still have the same plugin for adding data to the DOM. We also have added a new plugin called 'listen' that adds an eventListener to the targeted DOM. Whenever the user clicks on this DOM element, it will call the method 'doSomething' on UI.\r\n\r\nOf course, this example is very limited, as we can't bind a value from an object to something else than innerText, and we can't listen to another event than 'click' as long as we don't create new functions for handling them. Moreover, we can't change the object from which we get the value, nor can we change the object on which to call the method when a click occurs.\r\n\r\nSo let's create some reusable plugins. We pretend that the object that contains the data is a backbone.Model, which triggers events whenever something changes. We could also call a method on a backbone.View when a click occurs.\r\n\r\n### HTML\r\n\r\n```html\r\n\t<section>\r\n\t\t<p data-bind=\"change: name, innerText\"></p>\r\n\t\t<button data-event=\"listen: click, alert, name\"></p>\r\n\t</section>\r\n```\r\n\r\n### JavaScript\r\n\r\n```js\r\n\t// We have a backbone.Model\r\n\tmodel.set(\"name\", \"Nucleus\");\r\n\r\n\t// We have a backbone.View with an alert method. It alerts the value of \"name\"\r\n\tview.alert = function (event, param) {\r\n\t\talert(model.get(param);\r\n\t};\r\n\r\n\t/**\r\n\t * We create a constructor for a binding plugin\r\n\t * It takes a model as a parameter so it knows where to get the data\r\n\t */\r\n\tfunction Binding(model) {\r\n\r\n\t\t// This is the change method of our plugin\r\n\t\tthis.change = function (node, key, attribute) {\r\n\r\n\t\t\t// We need to set the innerText of the DOM to the current value\r\n\t\t\tnode[attribute] = model.get(key);\r\n\r\n\t\t\t// Whenever the value changes, we update the dom\r\n\t\t\tmodel.on(\"change:\" + key, function (newValue) {\r\n\t\t\t\tnode[attribute] = newValue;\r\n\t\t\t});\r\n\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t * Then we create a constructor for an event plugin\r\n\t * It takes a view as parameter, so it knows where to call the method\r\n\t */\r\n\tfunction Event(view) {\r\n\r\n\t\tthis.event = function (node, eventName, methodName, param) {\r\n\t\t\tnode.addEventListener(eventName, function (event) {\r\n\t\t\t\tview[methodName](event, param);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t}\r\n\r\n\t// We create our Nucleus\r\n\tvar nucleus = new Nucleus();\r\n\r\n\t// Then we add our plugins\r\n\tnucleus.add({\r\n\r\n\t\t// We initialize a new binding plugin with the model we want to listen to\r\n\t\t\"bind\": new Binding(model),\r\n\r\n\t\t// We initialize a new event plugin with the view we want to call the methods on\r\n\t\t\"event\": new Event(view)\r\n\r\n\t});\r\n\r\n\t// And finally, we apply it to the parent element of the DOM that we want to bind to this logic\r\n\tnucleus.apply( document.querySelector(\"section\") );\r\n```\r\n\r\nIn this more complete example, we have a Binding plugin that will listen to changes on a backbone.Model to update the DOM. We have created a reusable data-binding plugin that can now be reused to bind as many backbone.Model as we want to our DOM. We have even specified which property of the DOM node we want to update. It could be the className, or even value for form elements!\r\n\r\nThen we have created an Event listener that will listen to 'click', or any other event we want to listen to, and forward the event to the method of the view that we have initialized the plugin with.\r\n\r\nWe can also call multiple methods on the same DOM element:\r\n\r\n```html\r\n\t<p data-plugin=\"method1: param1, param2, paramN; method2: param1, param2, paramN\"></p>\r\n```\r\n\r\nOr we can call multiple plugins on the same DOM element\r\n\r\n```html\r\n\t<p data-plugin1=\"method: param1, param2\" data-plugin2=\"method1: param1, param2; method2, param1, param2\"></p>\r\n```\r\n\r\n\r\nHow to install it?\r\n------------------\r\n\r\n###You have require.js:\r\n\r\n```html\r\n\t<script src=\"require.js\"></script>\r\n```\r\n\r\n```js\r\n\trequire([\"path/to/Nucleus\"], function (Nucleus) {\r\n\t\tvar nucleus = new Nucleus();\r\n\t});\r\n```\r\n\r\n###You want to use it as a standalone:\r\n\r\n```html\r\n\t<script src=\"Nucleus-standalone.js\"></script>\r\n```\r\n\r\n```js\r\n\t// Nucleus is packed with AlmondJS, it still doesn't leak to the Global Object\r\n\t// but you have access to Almond's require/define, so you can do\r\n\trequire([\"Nucleus\"], function (Nucleus) {\r\n\t\tvar nucleus = new Nucleus();\r\n\t});\r\n```\r\n\r\n###You have jquery:\r\n\r\n```html\r\n\t<script src=\"jquery.js\"></script>\r\n\t<script src=\"Nucleus-jquery.js\"></script>\r\n```\r\n\r\n```js\r\n\t// Nucleus-jquery is also packed with AlmondJS. When requireing the plugin\r\n\t// it will give you a reference to Jquery which will have the nucleus plugin\r\n\trequire([\"Nucleus-jquery\"], function ($) {\r\n\r\n\t\t// We select the parent DOM node where we want to apply our plugins.\r\n\t\t// Nucleus.apply() will be called on all of the elements returned by the $()\r\n\t\t$('section').nucleus({\r\n\r\n\t\t\t// And we give the list of plugins. Nucleus.addAll will be called with this object.\r\n\t\t\t'contact': {\r\n\t\t\t\t'firstname': function (node) {\r\n\t\t\t\t\tnode.innerText = \"Nucleus\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t});\r\n```\r\n\r\nAre there existing nucleus plugins?\r\n-----------------------------------\r\n\r\nActually yes! Olives is a JS library that has cool nucleus plugins, such as double way binding and DOM event listener with delegation. https://github.com/flams/olives\r\n\r\n","name":"Nucleus"}